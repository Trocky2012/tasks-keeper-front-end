{"ast":null,"code":"import _construct from\"C:/Users/thiag/OneDrive/\\xC1rea de Trabalho/PYTHON_REACT_new_projs/React_Tasks_Keeper-With_BACKEND/node_modules/@babel/runtime/helpers/esm/construct.js\";import _toConsumableArray from\"C:/Users/thiag/OneDrive/\\xC1rea de Trabalho/PYTHON_REACT_new_projs/React_Tasks_Keeper-With_BACKEND/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/thiag/OneDrive/\\xC1rea de Trabalho/PYTHON_REACT_new_projs/React_Tasks_Keeper-With_BACKEND/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import DeleteIcon from\"@material-ui/icons/Delete\";import Note from\"./Note\";import Popup from'reactjs-popup';import'reactjs-popup/dist/index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Section(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var loadDataOnlyOnce=function loadDataOnlyOnce(){setNotes(props.notes);};useEffect(function(){return setNotes(props.notes);},[props.notes]);function handleClick(){props.onDelete(props.id);}function deleteNote(id){setNotes(function(prevNotes){return prevNotes.filter(function(noteItem,index){return noteItem.id!==id;});});props.onNotesDelete(id);}return/*#__PURE__*/_jsxs(\"div\",{className:\"section\",style:{color:props.title==\"Done / Deleted\"?'#BDBFBD':'#333'},children:[notes.length<1?/*#__PURE__*/_jsxs(Popup,{trigger:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(DeleteIcon,{})}),position:\"right center\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Delete this section?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:\"Delete\"})]}):/*#__PURE__*/_jsx(Popup,{trigger:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(DeleteIcon,{})}),position:\"right center\",children:/*#__PURE__*/_jsx(\"div\",{children:\"You still have tasks associated to this section\"})}),/*#__PURE__*/_jsx(\"h1\",{children:props.title}),notes.sort(function(a,b){return _construct(Date,_toConsumableArray(a.date.split('-').reverse()))-_construct(Date,_toConsumableArray(b.date.split('-').reverse()));}).map(function(noteItem,index){return/*#__PURE__*/_jsx(Note,{id:noteItem.id,date:noteItem.date,title:noteItem.title,content:noteItem.content,section:noteItem.section,sectionTitle:noteItem.sectionTitle,onDelete:deleteNote},noteItem.id);})]});}export default Section;","map":{"version":3,"names":["React","useEffect","useState","DeleteIcon","Note","Popup","jsx","_jsx","jsxs","_jsxs","Section","props","_useState","_useState2","_slicedToArray","notes","setNotes","loadDataOnlyOnce","handleClick","onDelete","id","deleteNote","prevNotes","filter","noteItem","index","onNotesDelete","className","style","color","title","children","length","trigger","position","onClick","sort","a","b","_construct","Date","_toConsumableArray","date","split","reverse","map","content","section","sectionTitle"],"sources":["C:/Users/thiag/OneDrive/Área de Trabalho/PYTHON_REACT_new_projs/React_Tasks_Keeper-With_BACKEND/src/components/Section.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Note from \"./Note\";\r\n\r\nimport Popup from 'reactjs-popup';\r\nimport 'reactjs-popup/dist/index.css';\r\n\r\nfunction Section(props) {\r\n\r\n    const [notes, setNotes] = useState([]);\r\n\r\n    const loadDataOnlyOnce = () => {\r\n        setNotes(props.notes);\r\n      }\r\n\r\n    useEffect(() => setNotes(props.notes), [props.notes]);\r\n\r\n    function handleClick() {\r\n      props.onDelete(props.id);\r\n    }\r\n\r\n    function deleteNote(id) {\r\n        setNotes(prevNotes => {\r\n            return prevNotes.filter((noteItem, index) => {\r\n              return (noteItem.id !== id);\r\n            });\r\n        });\r\n        props.onNotesDelete(id);\r\n    }\r\n\r\n    return (\r\n      <div className=\"section\"  \r\n            style={{color: (props.title==\"Done / Deleted\" ? '#BDBFBD' : '#333'), }}\r\n      >\r\n        {notes.length < 1 ? \r\n        <Popup trigger={<button ><DeleteIcon /></button>}\r\n            position=\"right center\">\r\n            <div >Delete this section?</div>\r\n            <button onClick={handleClick}>Delete</button>\r\n        </Popup>\r\n        : \r\n        <Popup trigger={<button ><DeleteIcon /></button>}\r\n            position=\"right center\">\r\n            <div >You still have tasks associated to this section</div>\r\n            {/* <button>Delete</button> */}\r\n        </Popup>\r\n        }\r\n        \r\n        <h1>{props.title}</h1>\r\n            {(notes).sort((a, b) => new Date(...a.date.split('-').reverse()) - new Date(...b.date.split('-').reverse()))\r\n                            .map((noteItem, index) => {\r\n                return (\r\n                    <Note\r\n                        key={noteItem.id}\r\n                        id={noteItem.id}\r\n                        date={noteItem.date}\r\n                        title={noteItem.title}\r\n                        content={noteItem.content}\r\n                        section={noteItem.section}\r\n                        sectionTitle={noteItem.sectionTitle}\r\n                        onDelete={deleteNote}\r\n                    />\r\n                );\r\n            })}\r\n        \r\n\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Section;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}